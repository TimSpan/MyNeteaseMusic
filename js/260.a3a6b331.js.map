{"version":3,"file":"js/260.a3a6b331.js","mappings":"8LAEO,SAASA,IACd,OAAOC,EAAAA,EAAAA,GAAQ,CACbC,OAAQ,MACRC,IAAK,yBAET,CAEO,SAASC,EAAeC,GAC7B,OAAOJ,EAAAA,EAAAA,GAAQ,CACbC,OAAQ,MACRC,IAAK,uBAAuBE,KAEhC,C,kGCZSC,MAAM,c,GACJA,MAAM,oB,GAMLA,MAAM,S,GAGPA,MAAM,Y,GAgBPA,MAAM,a,EA5BhB,Y,GAmCeA,MAAM,U,GACLA,MAAM,Q,kGAnCpBC,EAAAA,EAAAA,IAwCaC,EAAAA,GAAA,OAvCXC,EAAAA,EAAAA,IAsCM,MAtCNC,EAsCM,EArCJD,EAAAA,EAAAA,IAOM,MAPNE,EAOM,EANJF,EAAAA,EAAAA,IAEM,OAFDH,MAAM,OAAQM,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,QAAQC,IAAI,K,cACpCR,EAAAA,EAAAA,IAAyB,KAAtBH,MAAM,aAAW,aAItBG,EAAAA,EAAAA,IAAuC,KAAvCS,GAAuCC,EAAAA,EAAAA,IAAlBC,EAAAC,MAAMC,MAAI,MAGjCb,EAAAA,EAAAA,IAaM,MAbNc,EAaM,EAZJC,EAAAA,EAAAA,IAIYC,EAAA,CAJDnB,MAAM,SAAUoB,IAAKN,EAAAC,MAAMM,K,CACnBC,SAAOC,EAAAA,EAAAA,KACtB,IAAe,EAAfL,EAAAA,EAAAA,IAAeM,MAf3BC,EAAA,G,wBAmBQtB,EAAAA,EAAAA,IAKM,OALDH,MAAM,oBAAkB,EAC3BG,EAAAA,EAAAA,IAGM,OAHDH,MAAM,YAAU,EACnBG,EAAAA,EAAAA,IAAyB,KAAtBH,MAAM,eACTG,EAAAA,EAAAA,IAAgC,QAA1BH,MAAM,QAAO,cAAM,OAM/BG,EAAAA,EAAAA,IAWK,KAXLuB,EAWK,gBAVHC,EAAAA,EAAAA,IASKC,EAAAA,GAAA,MAtCbC,EAAAA,EAAAA,IAgCkCf,EAAAC,MAAMe,gBAhCxC,CAgCkBC,EAAMC,M,WAHhBL,EAAAA,EAAAA,IASK,MARFrB,QAAKE,GAAEyB,EAAAC,UAAUF,GAClBhC,MAAM,OAELmC,IAAKH,G,EAEN7B,EAAAA,EAAAA,IAEM,MAFNiC,EAEM,EADJjC,EAAAA,EAAAA,IAAqC,KAArCkC,GAAqCxB,EAAAA,EAAAA,IAAjBkB,EAAKf,MAAI,QApCzCsB,M,4DAmDA,GACEtB,KAAM,kBACNuB,KAAAA,GACE,MAAMxB,GAAQyB,EAAAA,EAAAA,IAAS,CACrBV,eAAgB,GAChBT,IAAK,GACLL,KAAM,KAiBR,OAfAyB,EAAAA,EAAAA,KAAUC,UAER,IAAIrB,GAAMsB,EAAAA,EAAAA,MAAWC,MAAMvB,IACvBL,GAAO2B,EAAAA,EAAAA,MAAWC,MAAM5B,KAC5BD,EAAMM,IAAMA,EACZN,EAAMC,KAAOA,EAMb,IAAI6B,GAAWF,EAAAA,EAAAA,MAAWC,MAAME,GAC5BC,QAAYjD,EAAAA,EAAAA,GAAe+C,GAC/B9B,EAAMe,eAAiBiB,EAAIC,KAAKC,KAAI,IAE/B,CAAElC,QACX,EACAmC,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,WAAY,gBAAiB,cAAe,eAE3DC,QAAS,CACPlB,UAAW,SAAUF,GAEnBqB,KAAKC,eAAeD,KAAKtC,MAAMe,gBAC/BuB,KAAKE,oBAAoBvB,GACzBqB,KAAKG,iBAAgB,GACrBH,KAAKI,OAAOC,SAAS,WAAYL,KAAKM,SAASN,KAAKO,eAAed,GACrE,MACGe,EAAAA,EAAAA,IAAa,CACd,iBACA,sBACA,sB,UCnFN,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://netease_music/./src/api/singer.js","webpack://netease_music/./src/views/singerMusic/singerSongsList.vue","webpack://netease_music/./src/views/singerMusic/singerSongsList.vue?335b"],"sourcesContent":["import request from './base'\r\n// 获取热门歌手\r\nexport function getSinger() {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/top/artists?offset=0',\r\n  })\r\n}\r\n//获取歌手热门50首歌曲\r\nexport function getSingerSongs(singerID) {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/artist/top/song?id=${singerID}`,\r\n  })\r\n}","<template>\r\n  <keep-alive>\r\n    <div class=\"music-list\">\r\n      <div class=\"fixed background\">\r\n        <div class=\"back\" @click=\"$router.go(-1)\">\r\n          <i class=\"icon-back\"></i>\r\n        </div>\r\n\r\n        <!-- 标题 -->\r\n        <h1 class=\"title\">{{ state.name }}</h1>\r\n      </div>\r\n\r\n      <div class=\"bg-image\">\r\n        <van-image class=\"images\" :src=\"state.img\">\r\n          <template v-slot:loading>\r\n            <van-loading />\r\n          </template>\r\n        </van-image>\r\n        <!-- 随机播放全部 -->\r\n        <div class=\"play-btn-wrapper\">\r\n          <div class=\"play-btn\">\r\n            <i class=\"icon-play\"></i>\r\n            <span class=\"text\">随机播放全部</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 底部 -->\r\n\r\n      <ul class=\"song-list\">\r\n        <li\r\n          @click=\"playMusic(index)\"\r\n          class=\"item\"\r\n          v-for=\"(song, index) in state.singerTopSongs\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"column\">\r\n            <h2 class=\"name\">{{ song.name }}</h2>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </keep-alive>\r\n</template>\r\n\r\n<script>\r\nimport { getSingerSongs } from '@/api/singer'\r\n// 使用useRoute 拿到路由跳转传过去的 歌手id，然后用这个id 获取歌手热门歌曲\r\nimport { useRoute } from 'vue-router'\r\nimport { onMounted, reactive } from 'vue'\r\nimport { mapMutations, mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'SingerSongsList',\r\n  setup() {\r\n    const state = reactive({\r\n      singerTopSongs: [], //歌手的热门歌曲\r\n      img: '',\r\n      name: '',\r\n    })\r\n    onMounted(async () => {\r\n      // console.log(singerId)\r\n      let img = useRoute().query.img\r\n      let name = useRoute().query.name\r\n      state.img = img\r\n      state.name = name\r\n\r\n      // 获取歌手热门歌曲\r\n      // 拿到歌手id\r\n      // console.log(useRoute());\r\n      // 通过打印可以看到 id 储存在 query 的value 的id这里 。这个value是作为query 的一个属性存在\r\n      let singerId = useRoute().query.id\r\n      let res = await getSingerSongs(singerId)\r\n      state.singerTopSongs = res.data.songs\r\n    })\r\n    return { state }\r\n  },\r\n  computed: {\r\n    ...mapState(['playList', 'playListIndex', 'currentTime', 'lyricList']),\r\n  },\r\n  methods: {\r\n    playMusic: function (index) {\r\n      // 接收传递过来的歌曲下标\r\n      this.updatePlayList(this.state.singerTopSongs) // 更新vuex 的歌曲列表\r\n      this.updatePlayListIndex(index) // 更新vuex 的歌曲歌曲下标\r\n      this.updateIsBtnShow(false) // 更新播放按钮的布尔值\r\n      this.$store.dispatch('getLyric', this.playList[this.playListIndex].id) // 更新歌词\r\n    },\r\n    ...mapMutations([\r\n      'updatePlayList',\r\n      'updatePlayListIndex',\r\n      'updateIsBtnShow',\r\n    ]),\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n:root {\r\n  --van-image-placeholder-background-color: rgba(0, 0, 0, 0.3) !important;\r\n  // --van-image-loading-icon-color:#333;\r\n  --van-background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n.music-list {\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n  margin-bottom: 1.2rem;\r\n  .fixed {\r\n    position: fixed;\r\n    background-color: #333;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 0.8rem;\r\n    z-index: 100;\r\n  }\r\n  .back {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0.12rem;\r\n    z-index: 20;\r\n    transform: translateZ(2px);\r\n\r\n    .icon-back {\r\n      display: block;\r\n      line-height: 40px;\r\n      padding-left: 0.2rem;\r\n      font-size: $font-size-large-x;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n  .title {\r\n    position: relative;\r\n    // padding-left: 0.4rem;\r\n    top: 0;\r\n    left: 20%;\r\n    width: 60%;\r\n    z-index: 20;\r\n    transform: translateZ(2px);\r\n    @include no-wrap();\r\n    text-align: center;\r\n    // margin: 0 auto;\r\n    line-height: 40px;\r\n    font-size: $font-size-large;\r\n    color: $color-text;\r\n  }\r\n  .bg-image {\r\n    background-color: $color-background !important;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 7.5rem;\r\n    // background-size: contain;\r\n    // transform-origin: top;\r\n\r\n    .images {\r\n      opacity: 0.6;\r\n      filter: blur(1px);\r\n      // background-color: $color-background !important;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-size: cover;\r\n    }\r\n\r\n    .play-btn-wrapper {\r\n      position: absolute;\r\n      bottom: 3rem;\r\n      z-index: 10;\r\n      width: 100%;\r\n      .play-btn {\r\n        box-sizing: border-box;\r\n        width: 135px;\r\n        padding: 7px 0;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        border: 1px solid $color-theme;\r\n        color: $color-theme;\r\n        border-radius: 100px;\r\n        font-size: 0;\r\n      }\r\n      .icon-play {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        margin-right: 6px;\r\n        font-size: $font-size-medium-x;\r\n      }\r\n      .text {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        font-size: $font-size-small;\r\n      }\r\n    }\r\n  }\r\n  .song-list {\r\n    margin-bottom: 30px;\r\n    .item {\r\n      width: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n      box-sizing: border-box;\r\n      height: 64px;\r\n      font-size: $font-size-medium;\r\n      padding-left: 0.4rem;\r\n\r\n      .name {\r\n        width: 100%;\r\n        margin-bottom: 2px;\r\n        @include no-wrap();\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n      .desc {\r\n        @include no-wrap();\r\n        font-size: $font-size-small;\r\n        color: $color-text-d;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./singerSongsList.vue?vue&type=template&id=f7ee3950&scoped=true\"\nimport script from \"./singerSongsList.vue?vue&type=script&lang=js\"\nexport * from \"./singerSongsList.vue?vue&type=script&lang=js\"\n\nimport \"./singerSongsList.vue?vue&type=style&index=0&id=f7ee3950&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f7ee3950\"]])\n\nexport default __exports__"],"names":["getSinger","request","method","url","getSingerSongs","singerID","class","_createBlock","_KeepAlive","_createElementVNode","_hoisted_1","_hoisted_2","onClick","_cache","$event","_ctx","$router","go","_hoisted_3","_toDisplayString","$setup","state","name","_hoisted_4","_createVNode","_component_van_image","src","img","loading","_withCtx","_component_van_loading","_","_hoisted_5","_createElementBlock","_Fragment","_renderList","singerTopSongs","song","index","$options","playMusic","key","_hoisted_7","_hoisted_8","_hoisted_6","setup","reactive","onMounted","async","useRoute","query","singerId","id","res","data","songs","computed","mapState","methods","this","updatePlayList","updatePlayListIndex","updateIsBtnShow","$store","dispatch","playList","playListIndex","mapMutations","__exports__","render"],"sourceRoot":""}