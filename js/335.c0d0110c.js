"use strict";(self["webpackChunknetease_music"]=self["webpackChunknetease_music"]||[]).push([[335,856],{5603:function(t,s,n){n.d(s,{KR:function(){return i},Vo:function(){return e},jP:function(){return l}});var a=n(6495);function i(){return(0,a.A)({method:"GET",url:"/toplist"})}function e(t){return(0,a.A)({method:"GET",url:`/playlist/track/all?id=${t}&offset=0&limit=3`})}function l(t){return(0,a.A)({method:"GET",url:`/playlist/track/all?id=${t}&offset=0&limit=50`})}},3335:function(t,s,n){n.r(s),n.d(s,{default:function(){return L}});var a=n(641),i=n(33);const e={class:"top-list"},l={class:"top-list-content"},o={class:"song-list"};function c(t,s,n,c,u,r){const d=(0,a.g2)("van-loading"),p=(0,a.g2)("van-image"),k=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.Wv)(a.PR,null,[(0,a.Lk)("div",e,[(0,a.Lk)("div",l,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.topList,(t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id},[(0,a.bF)(k,{class:"item",to:{path:"/topListMusic",query:{id:t.id,name:t.name}}},{default:(0,a.k6)((()=>[(0,a.bF)(p,{src:t.coverImgUrl,"lazy-load":""},{loading:(0,a.k6)((()=>[(0,a.bF)(d,{type:"spinner",size:"20"})])),_:2},1032,["src"]),(0,a.Lk)("ul",o,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.songs,((t,s)=>((0,a.uX)(),(0,a.CE)("li",{class:"song",key:t.id,"lazy-load":""},[(0,a.Lk)("span",null,(0,i.v_)(s+1)+". ",1),(0,a.Lk)("span",null,(0,i.v_)(t.name)+"-"+(0,i.v_)(t.ar[0].name),1)])))),128))])])),_:2},1032,["to"])])))),128))])])])],1024)}var u=n(2856),r=n(5603),d={components:{topListMusic:u["default"]},data(){return{topList:[]}},async created(){const t=await(0,r.KR)();this.topList=t.data.list,this.topList.forEach((async(t,s)=>{const n=JSON.stringify(t.id),{data:a}=await(0,r.Vo)(n);this.topList[s].songs=a.songs}))},methods:{}},p=n(6262);const k=(0,p.A)(d,[["render",c],["__scopeId","data-v-15600d9c"]]);var L=k},2856:function(t,s,n){n.r(s),n.d(s,{default:function(){return E}});var a=n(641),i=n(33);const e={class:"container"},l={class:"fixed"},o={class:"title"},c={class:"top-list"},u={class:"top-list-content"},r=["onClick"],d={class:"index"},p={class:"right"},k={class:"name"},L={class:"singerName"};function m(t,s,n,m,y,v){const g=(0,a.g2)("van-loading"),f=(0,a.g2)("van-image");return(0,a.uX)(),(0,a.CE)("div",e,[(0,a.Lk)("div",l,[(0,a.Lk)("div",{class:"back",onClick:s[0]||(s[0]=s=>t.$router.go(-1))},s[1]||(s[1]=[(0,a.Lk)("i",{class:"icon-back"},null,-1)])),(0,a.Lk)("h1",o,(0,i.v_)(m.state.name),1)]),(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(m.state.topSongs,((t,s)=>((0,a.uX)(),(0,a.CE)("li",{key:s,class:"item",onClick:t=>v.playMusic(s)},[(0,a.Lk)("span",d,(0,i.v_)(s+1),1),(0,a.bF)(f,{src:t.al.picUrl,class:"img","lazy-load":""},{loading:(0,a.k6)((()=>[(0,a.bF)(g,{type:"spinner",size:"20"})])),_:2},1032,["src"]),(0,a.Lk)("div",p,[(0,a.Lk)("p",k,(0,i.v_)(t.name),1),(0,a.Lk)("p",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.ar,((t,s)=>((0,a.uX)(),(0,a.CE)("span",{key:s},(0,i.v_)(t.name),1)))),128))])])],8,r)))),128))])])])])}var y=n(5603),v=n(5220),g=n(953),f=n(6278),h={name:"MusicMyTopListMusic",setup(){const t=(0,g.Kh)({topSongs:[],name:""});return(0,a.sV)((async()=>{let s=(0,v.lq)().query.id;t.name=(0,v.lq)().query.name;let n=await(0,y.jP)(s);t.topSongs=n.data.songs})),{state:t}},computed:{...(0,f.aH)(["playList","playListIndex","currentTime","lyricList"])},methods:{playMusic:function(t){this.updatePlayList(this.state.topSongs),this.updatePlayListIndex(t),this.updateIsBtnShow(!1),this.$store.dispatch("getLyric",this.playList[this.playListIndex].id)},...(0,f.PY)(["updatePlayList","updatePlayListIndex","updateIsBtnShow"])}},_=n(6262);const C=(0,_.A)(h,[["render",m],["__scopeId","data-v-75c9b387"]]);var E=C}}]);
//# sourceMappingURL=335.c0d0110c.js.map