{"version":3,"file":"js/856.b96e251d.js","mappings":"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","sources":["webpack://netease_music/./src/api/topList.js","webpack://netease_music/./src/views/topListMusic/topListMusic.vue","webpack://netease_music/./src/views/topListMusic/topListMusic.vue?b651"],"sourcesContent":["import request from './base'\r\n// 获取所有榜单\r\nexport function getTopList() {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/toplist',\r\n  })\r\n}\r\n//获取榜单歌曲\r\nexport function getTopListSongs(id) {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/playlist/detail?id=${id}`,\r\n  })\r\n}\r\n// 获取歌曲，但是限制数量 ,用于首屏展示\r\nexport function getLimitMusic(data) {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/playlist/track/all?id=${data}&offset=0&limit=3`,\r\n  })\r\n}\r\n// 获取歌曲，但是限制数量 ,用于首屏展示\r\nexport function getLimitMusicTwo(data) {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/playlist/track/all?id=${data}&offset=0&limit=50`,\r\n  })\r\n}","<template>\r\n  <div class=\"container\">\r\n    <div class=\"fixed\">\r\n      <div class=\"back\" @click=\"$router.go(-1)\">\r\n        <i class=\"icon-back\"></i>\r\n      </div>\r\n      <!-- 标题 -->\r\n      <h1 class=\"title\">{{ state.name }}</h1>\r\n    </div>\r\n\r\n    <!-- 歌曲列表 -->\r\n\r\n    <div class=\"top-list\">\r\n      <div class=\"top-list-content\">\r\n        <ul>\r\n          <li\r\n            v-for=\"(item, index) in state.topSongs\"\r\n            :key=\"index\"\r\n            class=\"item\"\r\n            @click=\"playMusic(index)\"\r\n          >\r\n            <span class=\"index\">{{ index + 1 }}</span>\r\n            <van-image :src=\"item.al.picUrl\" class=\"img\" lazy-load>\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n            </van-image>\r\n\r\n            <div class=\"right\">\r\n              <p class=\"name\">{{ item.name }}</p>\r\n              <p class=\"singerName\">\r\n                <span v-for=\"(item, i) in item.ar\" :key=\"i\">\r\n                  {{ item.name }}</span\r\n                >\r\n              </p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getLimitMusicTwo } from '@/api/topList'\r\nimport { useRoute } from 'vue-router'\r\nimport { reactive, onMounted } from 'vue'\r\nimport { mapState, mapMutations } from 'vuex'\r\nexport default {\r\n  name: 'MusicMyTopListMusic',\r\n\r\n  setup() {\r\n    const state = reactive({\r\n      topSongs: [], //所有歌曲列表\r\n      name: '',\r\n    })\r\n    onMounted(async () => {\r\n      let topID = useRoute().query.id\r\n      state.name = useRoute().query.name\r\n      let res = await getLimitMusicTwo(topID)\r\n      // console.log(res)\r\n      state.topSongs = res.data.songs\r\n      // console.log(state.topSongs)\r\n    })\r\n    return { state }\r\n  },\r\n  computed: {\r\n    ...mapState(['playList', 'playListIndex', 'currentTime', 'lyricList']),\r\n  },\r\n  methods: {\r\n    playMusic: function (index) {\r\n      // 接收传递过来的歌曲下标\r\n      this.updatePlayList(this.state.topSongs) // 更新vuex 的歌曲列表\r\n      this.updatePlayListIndex(index) // 更新vuex 的歌曲歌曲下标\r\n      this.updateIsBtnShow(false) // 更新播放按钮的布尔值\r\n      this.$store.dispatch('getLyric', this.playList[this.playListIndex].id) // 更新歌词\r\n    },\r\n    ...mapMutations([\r\n      'updatePlayList',\r\n      'updatePlayListIndex',\r\n      'updateIsBtnShow',\r\n    ]),\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  .fixed {\r\n    position: fixed;\r\n    background-color: #333;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 0.8rem;\r\n    z-index: 100;\r\n    margin-bottom: 0.8rem;\r\n    // overflow: scroll;\r\n    .back {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0.12rem;\r\n      z-index: 20;\r\n      transform: translateZ(2px);\r\n\r\n      .icon-back {\r\n        display: block;\r\n        line-height: 40px;\r\n        padding-left: 0.2rem;\r\n        font-size: $font-size-large-x;\r\n        color: $color-theme;\r\n      }\r\n    }\r\n    .title {\r\n      position: relative;\r\n      // padding-left: 0.4rem;\r\n      top: 0;\r\n      left: 20%;\r\n      width: 60%;\r\n      z-index: 20;\r\n      transform: translateZ(2px);\r\n      text-align: center;\r\n      line-height: 40px;\r\n      font-size: $font-size-large;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n\r\n  .top-list {\r\n    margin-bottom: 2.4rem;\r\n    position: relative;\r\n    top: 0.8rem;\r\n    .top-list-content {\r\n      .item {\r\n        display: flex; // flex布局\r\n        align-items: center;\r\n\r\n        margin-top: 0.6rem;\r\n        height: 0.6rem;\r\n        .index {\r\n          margin-right: 0.2rem;\r\n          margin-left: 0.2rem;\r\n          color: $color-theme;\r\n          width: 0.4rem;\r\n          text-align: center;\r\n        }\r\n\r\n        .van-image {\r\n          // flex: 0 0 0.6rem;\r\n          width: 1rem;\r\n          height: 1rem;\r\n          background-size: cover;\r\n          border-radius: 3px !important;\r\n        }\r\n\r\n        .right {\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: space-between;\r\n          line-height: 0.5rem;\r\n          font-size: 0.2rem;\r\n          margin-left: 0.4rem;\r\n          @include no-wrap();\r\n          .name {\r\n          }\r\n          .singerName {\r\n            display: flex;\r\n            span {\r\n              margin-right: 0.4rem;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./topListMusic.vue?vue&type=template&id=75c9b387&scoped=true\"\nimport script from \"./topListMusic.vue?vue&type=script&lang=js\"\nexport * from \"./topListMusic.vue?vue&type=script&lang=js\"\n\nimport \"./topListMusic.vue?vue&type=style&index=0&id=75c9b387&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75c9b387\"]])\n\nexport default __exports__"],"names":["getTopList","request","method","url","getLimitMusic","data","getLimitMusicTwo","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","$event","_ctx","$router","go","_hoisted_3","_toDisplayString","$setup","state","name","_hoisted_4","_hoisted_5","_Fragment","_renderList","topSongs","item","index","key","$options","playMusic","_hoisted_7","_createVNode","_component_van_image","src","al","picUrl","loading","_withCtx","_component_van_loading","type","size","_","_hoisted_8","_hoisted_9","_hoisted_10","ar","i","_hoisted_6","setup","reactive","onMounted","async","topID","useRoute","query","id","res","songs","computed","mapState","methods","this","updatePlayList","updatePlayListIndex","updateIsBtnShow","$store","dispatch","playList","playListIndex","mapMutations","__exports__","render"],"sourceRoot":""}